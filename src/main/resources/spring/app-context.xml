<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd">
	
	<bean id="fileVisitor" class="com.trifonov.compression.ImageFileVisitor" init-method="fillFilesList" p:sourcePathName="E:\Java\Projects\file-compression-spr-xml\tinify">
		<!--property name="sourcePathName" value="D:\trifonov\comression-file"></property-->
	</bean>
	
	<bean id="reportCreator" class="com.trifonov.compression.FileReportCreator" init-method="createReportPath" p:reportDir="report-tinypng"></bean>   
   
   	<bean id="compressor" class="com.trifonov.compression.UltimateCompressor" init-method="init"  p:imageFileVisitor-ref="fileVisitor" p:threadCount = "5" p:keysFileName="keys.txt"
   		p:reportCreator-ref="reportCreator"
   		destroy-method="compressionReport"></bean>
   
</beans>
